<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="style-form.css">
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
  <title>Adicionar Perfume</title>
</head>
<body>
  <div id="container">

    <!-- Parte da foto -->
    <div id="foto-coluna">
      <div id="foto-area">
        <div id="quadrado">
          <span id="texto-foto">Foto do perfume</span>
          <img id="preview-foto" style="display:none; width:100%; height:100%; object-fit:cover; border-radius:32px;">
        </div>

        <input type="file" id="foto" name="foto" accept="image/*" style="display: none;">
        
        <!-- Modal para escolher m√©todo de upload -->
        <div id="modal-foto" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
          <div style="background:white; padding:30px; border-radius:16px; max-width:400px; text-align:center;">
            <h3 style="margin-top:0; color:#333;">Como deseja adicionar a foto?</h3>
            <button id="btn-upload" style="display:block; width:100%; padding:15px; margin:10px 0; background:#C06060; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px;">
              üìÅ Carregar do computador
            </button>
            <button id="btn-link" style="display:block; width:100%; padding:15px; margin:10px 0; background:#5BA3D0; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px;">
              üîó Colar link da imagem
            </button>
            <button id="btn-cancelar-modal" style="display:block; width:100%; padding:10px; margin:10px 0; background:transparent; color:#666; border:1px solid #ccc; border-radius:8px; cursor:pointer;">
              Cancelar
            </button>
          </div>
        </div>
        
        <!-- Campo de URL -->
        <div id="container-url" style="display:none; margin-top:10px; width:235px;">
          <input type="text" id="foto-url" placeholder="Cole o link da foto aqui" 
                 style="width:100%; padding:10px; border:1px solid #C06060; border-radius:8px; font-size:13px; box-sizing:border-box;">
          <button id="btn-confirmar-url" style="width:100%; padding:10px; margin-top:8px; background:#5BA3D0; color:white; border:none; border-radius:8px; cursor:pointer;">
            Confirmar
          </button>
        </div>

        <!-- Op√ß√µes abaixo da foto -->
        <div id="opcoesfoto">
          <input type="radio" id="tenho" name="status" value="tenho">
          <label for="tenho">Tenho</label>

          <input type="radio" id="ja-tive" name="status" value="ja-tive">
          <label for="ja-tive">J√° tive</label>

          <input type="radio" id="quero-ter" name="status" value="quero-ter">
          <label for="quero-ter">Quero ter</label>
          
          <small style="display: block; margin-top: 8px; color: #666; font-size: 11px; font-style: italic;">
            üí° Clique novamente para desmarcar
          </small>
        </div>

        <!-- Avalia√ß√£o - SEMPRE VIS√çVEL, SEM ANIMA√á√ïES -->
        <div id="avaliacao">
          <div class="avaliacao-estrelas">
            <h3>Avalia√ß√£o</h3>

            <div class="linha-avaliacao">
              <label>Cheiro:</label>
              <div class="estrelas" data-id="cheiro"></div>
            </div>

            <div class="linha-avaliacao">
              <label>Proje√ß√£o:</label>
              <div class="estrelas" data-id="projecao"></div>
            </div>

            <div class="linha-avaliacao">
              <label>Fixa√ß√£o:</label>
              <div class="estrelas" data-id="fixacao"></div>
            </div>

            <div class="linha-avaliacao">
              <label>Versatilidade:</label>
              <div class="estrelas" data-id="versatilidade"></div>
            </div>

            <p class="media">M√©dia: <span id="media">0</span></p>
          </div>

          <hr>

          <div class="avaliacao-sliders">
            <!-- ‚úÖ Slider de G√™nero Customizado -->
            <div class="slider-container">
              <label>G√™nero:</label>
              <div class="genero-slider-wrapper">
                <div class="genero-linha"></div>
                <div class="genero-pontos">
                  <div class="genero-ponto" data-value="masculino">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Masc.</span>
                  </div>
                  <div class="genero-ponto" data-value="um-pouco-masculino">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="genero-ponto" data-value="compartilhavel">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Compartilh√°vel</span>
                  </div>
                  <div class="genero-ponto" data-value="um-pouco-feminino">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="genero-ponto" data-value="feminino">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Fem.</span>
                  </div>
                </div>
              </div>
              <input type="hidden" id="genero-value" data-avaliado="false">
            </div>

            <!-- ‚úÖ Slider de Clima Customizado -->
            <div class="slider-container">
              <label>Clima:</label>
              <div class="clima-slider-wrapper">
                <div class="clima-linha"></div>
                <div class="clima-pontos">
                  <div class="clima-ponto" data-value="0">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Frio</span>
                  </div>
                  <div class="clima-ponto" data-value="25">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="clima-ponto" data-value="50">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="clima-ponto" data-value="75">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="clima-ponto" data-value="100">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Calor</span>
                  </div>
                </div>
              </div>
              <input type="hidden" id="clima-value" data-avaliado="false">
            </div>

            <!-- ‚úÖ Slider de Ambiente Customizado -->
            <div class="slider-container">
              <label>Ambiente:</label>
              <div class="ambiente-slider-wrapper">
                <div class="ambiente-linha"></div>
                <div class="ambiente-pontos">
                  <div class="ambiente-ponto" data-value="0">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Informal</span>
                  </div>
                  <div class="ambiente-ponto" data-value="25">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="ambiente-ponto" data-value="50">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="ambiente-ponto" data-value="75">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="ambiente-ponto" data-value="100">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Formal</span>
                  </div>
                </div>
              </div>
              <input type="hidden" id="ambiente-value" data-avaliado="false">
            </div>

            <!-- ‚úÖ Slider de Hora Customizado -->
            <div class="slider-container">
              <label>Hora:</label>
              <div class="hora-slider-wrapper">
                <div class="hora-linha"></div>
                <div class="hora-pontos">
                  <div class="hora-ponto" data-value="0">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Noite</span>
                  </div>
                  <div class="hora-ponto" data-value="25">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="hora-ponto" data-value="50">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="hora-ponto" data-value="75">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label"></span>
                  </div>
                  <div class="hora-ponto" data-value="100">
                    <div class="ponto-circulo"></div>
                    <span class="ponto-label">Dia</span>
                  </div>
                </div>
              </div>
              <input type="hidden" id="hora-value" data-avaliado="false">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Parte do formul√°rio -->
    <form id="info-perfume">

      <div>
        <label for="nome">Nome:</label><br>
        <input type="text" id="nome" class="campo" name="nome" placeholder="Nome do perfume">
      </div>

      <div>
        <label for="marca">Marca:</label><br>
        <input type="text" id="marca" class="campo" name="marca" placeholder="Marca do perfume">
      </div>

      <fieldset id="notas">
        <legend>Notas:</legend>

        <div>
          <span class="label-nota">Topo:</span><br>
          <select id="topo" class="camponotas" name="topo" multiple></select>
        </div>

        <div>
          <span class="label-nota">Cora√ß√£o:</span><br>
          <select id="coracao" class="camponotas" name="coracao" multiple></select>
        </div>

        <div>
          <span class="label-nota">Fundo:</span><br>
          <select id="fundo" class="camponotas" name="fundo" multiple></select>
        </div>
      </fieldset>

      <div>
        <label for="acordes">Acordes:</label><br>
        <select name="acordes" id="acordes" multiple>
          <option value="">Selecione</option>
        </select>
      </div>

      <div>
        <label for="perfumista">Perfumista:</label><br>
        <input type="text" id="perfumista" class="campo" name="perfumista" placeholder="Nome do perfumista">
      </div>

      <div class="campo-contratipo">
        <label>√â contratipo?</label>
        <div class="radio-inline">
          <input type="radio" id="contratipo-sim" name="contratipo" value="sim">
          <label for="contratipo-sim">Sim</label>
          
          <input type="radio" id="contratipo-nao" name="contratipo" value="nao" checked>
          <label for="contratipo-nao">N√£o</label>
        </div>
      </div>

      <div id="campo-perfume-original" class="campo-perfume-original">
        <select id="perfume-original" name="perfume-original">
          <option value="">Selecione o perfume original...</option>
        </select>
      </div>

      <div>
        <label for="link-compra">Link de compra:</label><br>
        <input type="url" id="link-compra" class="campo" name="link-compra" placeholder="https://exemplo.com/perfume" style="background: transparent;">
      </div>

      <div>
        <label for="review">Review:</label><br>
        <textarea id="review" name="review" rows="6" placeholder="Escreva sua review aqui"></textarea>
      </div>

      <div id="botoes">
        <div class="botoes-esquerda">
          <button type="button" id="cancelar">Cancelar</button>
          <button type="submit" id="adicionar">Adicionar</button>
        </div>
        
        <button type="button" id="deletar" class="btn-deletar" style="display: none;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            <line x1="10" y1="11" x2="10" y2="17"></line>
            <line x1="14" y1="11" x2="14" y2="17"></line>
          </svg>
          Deletar Perfume
        </button>
      </div>
    </form>
  </div>
  <script src="notas.js"></script>
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="script-form.js"></script>
</body>
</html>