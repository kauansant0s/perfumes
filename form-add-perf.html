<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="style-form.css">
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
  <title>Adicionar Perfume</title>
</head>
<body>
  <div id="container">

    <!-- Parte da foto -->
    <div id="foto-coluna">
      <div id="foto-area">
        <div id="quadrado">
          <span id="texto-foto">Foto do perfume</span>
          <img id="preview-foto" style="display:none; width:100%; height:100%; object-fit:cover; border-radius:32px;">
        </div>

        <input type="file" id="foto" name="foto" accept="image/*" style="display: none;">
        
        <!-- Modal para escolher m√©todo de upload -->
        <div id="modal-foto" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
          <div style="background:white; padding:30px; border-radius:16px; max-width:400px; text-align:center;">
            <h3 style="margin-top:0; color:#333;">Como deseja adicionar a foto?</h3>
            <button id="btn-upload" style="display:block; width:100%; padding:15px; margin:10px 0; background:#C06060; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px;">
              üìÅ Carregar do computador
            </button>
            <button id="btn-link" style="display:block; width:100%; padding:15px; margin:10px 0; background:#5BA3D0; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px;">
              üîó Colar link da imagem
            </button>
            <button id="btn-cancelar-modal" style="display:block; width:100%; padding:10px; margin:10px 0; background:transparent; color:#666; border:1px solid #ccc; border-radius:8px; cursor:pointer;">
              Cancelar
            </button>
          </div>
        </div>
        
        <!-- Campo de URL (aparece quando escolher link) -->
        <div id="container-url" style="display:none; margin-top:10px; width:235px;">
          <input type="text" id="foto-url" placeholder="Cole o link da foto aqui" 
                 style="width:100%; padding:10px; border:1px solid #C06060; border-radius:8px; font-size:13px; box-sizing:border-box;">
          <button id="btn-confirmar-url" style="width:100%; padding:10px; margin-top:8px; background:#5BA3D0; color:white; border:none; border-radius:8px; cursor:pointer;">
            Confirmar
          </button>
        </div>

        <!-- Op√ß√µes abaixo da foto -->
        <div id="opcoesfoto">
          <input type="radio" id="tenho" name="status" value="tenho">
          <label for="tenho">Tenho</label>

          <input type="radio" id="ja-tive" name="status" value="ja-tive">
          <label for="ja-tive">J√° tive</label>

          <input type="radio" id="quero-ter" name="status" value="quero-ter">
          <label for="quero-ter">Quero ter</label>
        </div>

        <!-- Avalia√ß√£o -->
        <div id="avaliacao" style="display:none;">
          <div class="avaliacao-estrelas">
            <h3>Avalia√ß√£o</h3>

            <div class="linha-avaliacao">
              <label>Cheiro:</label>
              <div class="estrelas" data-id="cheiro"></div>
            </div>

            <div class="linha-avaliacao">
              <label>Proje√ß√£o:</label>
              <div class="estrelas" data-id="projecao"></div>
            </div>

            <div class="linha-avaliacao">
              <label>Fixa√ß√£o:</label>
              <div class="estrelas" data-id="fixacao"></div>
            </div>

            <div class="linha-avaliacao">
              <label>Versatilidade:</label>
              <div class="estrelas" data-id="versatilidade"></div>
            </div>

            <p class="media">M√©dia: <span id="media">0</span></p>
          </div>

          <hr>

          <div class="avaliacao-sliders">
            <div class="slider-container">
              <label>Clima:</label>
              <div class="slider-wrapper">
                <span class="slider-label-left">Frio</span>
                <input type="range" min="0" max="100" value="50" class="slider slider-clima">
                <span class="slider-label-right">Calor</span>
              </div>
            </div>

            <div class="slider-container">
              <label>Ambiente:</label>
              <div class="slider-wrapper">
                <span class="slider-label-left">Informal</span>
                <input type="range" min="0" max="100" value="50" class="slider slider-ambiente">
                <span class="slider-label-right">Formal</span>
              </div>
            </div>

            <div class="slider-container">
              <label>G√™nero:</label>
              <div class="slider-wrapper">
                <span class="slider-label-left">Masc.</span>
                <input type="range" min="0" max="100" value="50" class="slider slider-genero">
                <span class="slider-label-right">Fem.</span>
              </div>
            </div>

            <div class="slider-container">
              <label>Hora:</label>
              <div class="slider-wrapper">
                <span class="slider-label-left">Noite</span>
                <input type="range" min="0" max="100" value="50" class="slider slider-hora">
                <span class="slider-label-right">Dia</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Parte do formul√°rio -->
    <form id="info-perfume">

      <div>
        <label for="nome">Nome:</label><br>
        <input type="text" id="nome" class="campo" name="nome" placeholder="Nome do perfume">
      </div>

      <div>
        <label for="marca">Marca:</label><br>
        <input type="text" id="marca" class="campo" name="marca" placeholder="Marca do perfume">
      </div>

      <fieldset id="notas">
        <legend>Notas:</legend>

        <div>
          <label for="topo">Topo:</label><br>
          <select id="topo" class="camponotas" name="topo" multiple>
            <option value="">Selecione</option>
          </select>
        </div>

        <div>
          <label for="coracao">Cora√ß√£o:</label><br>
          <select id="coracao" class="camponotas" name="coracao" multiple>
            <option value="">Selecione</option>
          </select>
        </div>

        <div>
          <label for="fundo">Fundo:</label><br>
          <select id="fundo" class="camponotas" name="fundo" multiple>
            <option value="">Selecione</option>
          </select>
        </div>
      </fieldset>

      <div>
        <label for="acordes">Acordes:</label><br>
        <select name="acordes" id="acordes">
          <option value="">Selecione</option>
        </select>
      </div>

      <div>
        <label for="perfumista">Perfumista:</label><br>
        <input type="text" id="perfumista" class="campo" name="perfumista" placeholder="Nome do perfumista">
      </div>

      <div>
        <label for="descricao">Descri√ß√£o:</label><br>
        <textarea id="descricao" class="campotexto" name="descricao" rows="3" placeholder="Descreva brevemente o cheiro do perfume"></textarea>
      </div>

      <div>
        <label for="review">Review:</label><br>
        <input type="text" id="titulo" name="titulo" placeholder="T√≠tulo"><br>
        <textarea id="review" name="review" rows="6" placeholder="Escreva sua review aqui"></textarea>
      </div>

      <div id="botoes">
        <button type="button" id="cancelar">Cancelar</button>
        <button type="submit" id="adicionar">Adicionar</button>
      </div>
    </form>
  </div>
  <script src="notas.js"></script>
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="script-form.js"></script>
</body>
</html>